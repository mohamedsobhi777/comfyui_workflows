{"last_node_id": 79, "last_link_id": 106, "nodes": [{"id": 6, "type": "PreviewImage", "pos": [610, 610], "size": {"0": 210, "1": 250}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 17}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 4, "type": "CannyEdgePreprocessor", "pos": [550, 190], "size": {"0": 315, "1": 106}, "flags": {}, "order": 8, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 6}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CannyEdgePreprocessor"}, "widgets_values": [100, 200, 512]}, {"id": 10, "type": "PreviewImage", "pos": [1330, 500], "size": {"0": 210, "1": 250}, "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 9}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 9, "type": "InpaintPreprocessor", "pos": [1320, 330], "size": {"0": 210, "1": 46}, "flags": {}, "order": 19, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 11}, {"name": "mask", "type": "MASK", "link": 20}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [9, 32], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "InpaintPreprocessor"}}, {"id": 24, "type": "UltralyticsDetectorProvider", "pos": [1610, 790], "size": {"0": 315, "1": 78}, "flags": {}, "order": 0, "mode": 0, "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": null, "shape": 3}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": [31], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "UltralyticsDetectorProvider"}, "widgets_values": ["segm/person_yolov8m-seg.pt"]}, {"id": 8, "type": "ImageToMask", "pos": [880, 450], "size": {"0": 315, "1": 58}, "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 18}], "outputs": [{"name": "MASK", "type": "MASK", "links": [19], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageToMask"}, "widgets_values": ["red"]}, {"id": 13, "type": "InvertMask", "pos": [1050, 620], "size": {"0": 210, "1": 26}, "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 19}], "outputs": [{"name": "MASK", "type": "MASK", "links": [20], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "InvertMask"}}, {"id": 47, "type": "VAEDecode", "pos": [3750, 100], "size": {"0": 210, "1": 46}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 67}, {"name": "vae", "type": "VAE", "link": 69}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [68, 73], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}}, {"id": 54, "type": "PreviewImage", "pos": [4170, -460], "size": {"0": 210, "1": 250}, "flags": {}, "order": 12, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 76}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 52, "type": "Image Crop Location", "pos": [3720, -470], "size": {"0": 315, "1": 150}, "flags": {}, "order": 7, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 77}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [76], "shape": 3, "slot_index": 0}, {"name": "CROP_DATA", "type": "CROP_DATA", "links": [], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "Image Crop Location"}, "widgets_values": [216, 39, 405, 494]}, {"id": 50, "type": "LoadImage", "pos": [3300, -320], "size": {"0": 320, "1": 310}, "flags": {}, "order": 1, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [77, 79], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "title": "Source image", "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["IMG-20231101-WA0029.jpg", "image"]}, {"id": 12, "type": "MiDaS-DepthMapPreprocessor", "pos": [520, 450], "size": {"0": 315, "1": 106}, "flags": {}, "order": 9, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 16}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [17, 18, 58], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "MiDaS-DepthMapPreprocessor"}, "widgets_values": [6.8, 0.14, 512]}, {"id": 70, "type": "FaceRestoreCFWithModel", "pos": [4750, 70], "size": {"0": 315, "1": 102}, "flags": {}, "order": 24, "mode": 0, "inputs": [{"name": "facerestore_model", "type": "FACERESTORE_MODEL", "link": 92}, {"name": "image", "type": "IMAGE", "link": 93}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [94], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "FaceRestoreCFWithModel"}, "widgets_values": ["retinaface_resnet50", 0.5]}, {"id": 28, "type": "InpaintPreprocessor", "pos": [1900, 1090], "size": {"0": 210, "1": 46}, "flags": {}, "order": 28, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 40}, {"name": "mask", "type": "MASK", "link": 37}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [38, 55], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "InpaintPreprocessor"}}, {"id": 7, "type": "LoadImage", "pos": [180, 330], "size": [320, 310], "flags": {}, "order": 2, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [6, 11, 16, 40], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["prompthero-prompt-dc63f5d594e (2).webp", "image"]}, {"id": 43, "type": "CR Multi-ControlNet Stack", "pos": [2020, 160], "size": {"0": 418.1999816894531, "1": 454}, "flags": {}, "order": 32, "mode": 0, "inputs": [{"name": "image_1", "type": "IMAGE", "link": 58}, {"name": "image_2", "type": "IMAGE", "link": 59}, {"name": "image_3", "type": "IMAGE", "link": null}, {"name": "controlnet_stack", "type": "CONTROL_NET_STACK", "link": null}], "outputs": [{"name": "CONTROLNET_STACK", "type": "CONTROL_NET_STACK", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CR Multi-ControlNet Stack"}, "widgets_values": ["On", "control_sd15_depth.pth", 0.61, 0, 1, "On", "control_sd15_openpose.pth", 0.63, 0, 1, "Off", "None", 1, 0, 1]}, {"id": 76, "type": "ACN_AdvancedControlNetApply", "pos": [1870, 1240], "size": {"0": 315, "1": 186}, "flags": {}, "order": 10, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": null}, {"name": "negative", "type": "CONDITIONING", "link": null}, {"name": "control_net", "type": "CONTROL_NET", "link": 105, "slot_index": 2}, {"name": "image", "type": "IMAGE", "link": null}, {"name": "mask_optional", "type": "MASK", "link": null}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "negative", "type": "CONDITIONING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "ACN_AdvancedControlNetApply"}, "widgets_values": [1, 0, 1]}, {"id": 79, "type": "ControlNetLoader", "pos": [1490, 1280], "size": {"0": 315, "1": 58}, "flags": {}, "order": 3, "mode": 0, "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [105], "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["control_sd15_canny.pth"]}, {"id": 63, "type": "ImageUpscaleWithModel", "pos": [4410, -150], "size": {"0": 241.79998779296875, "1": 46}, "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 85, "slot_index": 0}, {"name": "image", "type": "IMAGE", "link": 106, "slot_index": 1}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [93], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageUpscaleWithModel"}}, {"id": 48, "type": "SaveImage", "pos": [3630, 250], "size": {"0": 430, "1": 610}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 68}], "properties": {}, "widgets_values": ["ComfyUI"]}, {"id": 51, "type": "PreviewImage", "pos": [4080, 280], "size": {"0": 510, "1": 660}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 72}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 46, "type": "KSampler Adv. (Efficient)", "pos": [3220, 90], "size": {"0": 340, "1": 770}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 62}, {"name": "positive", "type": "CONDITIONING", "link": 63}, {"name": "negative", "type": "CONDITIONING", "link": 64}, {"name": "latent_image", "type": "LATENT", "link": 65}, {"name": "optional_vae", "type": "VAE", "link": 66}, {"name": "script", "type": "SCRIPT", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": null, "shape": 3}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "LATENT", "type": "LATENT", "links": [67], "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": [69], "shape": 3, "slot_index": 4}, {"name": "IMAGE", "type": "IMAGE", "links": null, "shape": 3}], "properties": {"Node name for S&R": "KSampler Adv. (Efficient)"}, "widgets_values": ["enable", 593254023873721, null, 30, 7.2, "euler", "normal", 0, 10000, "disable", "auto", "true"], "color": "#223322", "bgcolor": "#335533", "shape": 1}, {"id": 66, "type": "SaveImage", "pos": [4670, 290], "size": {"0": 1210, "1": 1110}, "flags": {}, "order": 26, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 94}], "properties": {}, "widgets_values": ["ComfyUI"]}, {"id": 15, "type": "PreviewImage", "pos": [2400, 1200], "size": {"0": 210, "1": 250}, "flags": {}, "order": 29, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 38}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 42, "type": "PreviewImage", "pos": [2660, 1200], "size": {"0": 210, "1": 380}, "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 56}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 41, "type": "DWPreprocessor", "pos": [2650, 1010], "size": {"0": 315, "1": 130}, "flags": {}, "order": 30, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 55}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [56, 59], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "DWPreprocessor"}, "widgets_values": ["enable", "enable", "enable", 512]}, {"id": 23, "type": "SegmDetectorSEGS", "pos": [1950, 810], "size": {"0": 400, "1": 200}, "flags": {}, "order": 23, "mode": 0, "inputs": [{"name": "segm_detector", "type": "SEGM_DETECTOR", "link": 31, "slot_index": 0}, {"name": "image", "type": "IMAGE", "link": 32}], "outputs": [{"name": "SEGS", "type": "SEGS", "links": [33], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "SegmDetectorSEGS"}, "widgets_values": [0.5, 2, 3, 10, "all"]}, {"id": 25, "type": "ImpactSEGSToMaskList", "pos": [2350, 690], "size": {"0": 210, "1": 26}, "flags": {}, "order": 25, "mode": 0, "inputs": [{"name": "segs", "type": "SEGS", "link": 33}], "outputs": [{"name": "MASK", "type": "MASK", "links": [36], "shape": 6, "slot_index": 0}], "properties": {"Node name for S&R": "ImpactSEGSToMaskList"}}, {"id": 27, "type": "InvertMask", "pos": [2370, 780], "size": {"0": 210, "1": 26}, "flags": {}, "order": 27, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 36}], "outputs": [{"name": "MASK", "type": "MASK", "links": [37], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "InvertMask"}}, {"id": 45, "type": "Efficient Loader", "pos": [2630, 0], "size": {"0": 540, "1": 900}, "flags": {}, "order": 4, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": null}, {"name": "cnet_stack", "type": "CONTROL_NET_STACK", "link": null}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [62], "shape": 3, "slot_index": 0}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [63], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [64], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": [65], "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": [66], "shape": 3, "slot_index": 4}, {"name": "CLIP", "type": "CLIP", "links": null, "shape": 3}, {"name": "DEPENDENCIES", "type": "DEPENDENCIES", "links": null, "shape": 3}], "properties": {"Node name for S&R": "Efficient Loader"}, "widgets_values": ["realisticVisionV51_v51VAE.safetensors", "Baked VAE", -1, "None", 1, 1, "Hyper realistic, ultra detailed photograph of a woman with messy blond hair (pink highlights) wearing an off shoulder slim sweter, laughing out loud and dancing, sunlight fractal details, depth of field, detailed gorgeous face, natural body posture, captured with a 85mm lens, f4. 6, bokeh, ultra detailed, ultra accurate detailed, bokeh lighting, surrealism, urban settin, ultra unreal engine, intricate, epic, freckles, flashing, lifted by self,", "double body, double face, double features, incorrect posture, long legs, close up, ((two heads)), two faces, plastic, pregnant, Deformed belly, deformed, blurry, bad anatomy, bad eyes, crossed eyes, disfigured, poorly drawn face, mutation, mutated, {((extra limb)), ugly, ((poorly drawn hands)), missing limb, blurry, floating limbs, disconnected limbs, malformed hands, blur, out of focus, long neck, long body, (((mutated hands and fingers))), (((out of frame))), long fingers, blender, doll, cropped, low-res, close-up, poorly-drawn face, out of frame double, two heads, blurred, ugly, disfigured, too many fingers, deformed, repetitive, black and white, grainy, extra limbs, bad anatomy, High pass filter, airbrush, portrait, zoomed, soft light, smooth skin, closeup, deformed, ((extra limbs)), ((extra fingers)), (((mutated hands))), bad anatomy, bad proportions , blind, bad eyes, ugly eyes, dead eyes, blur, vignette, out of shot, out of focus,", "none", "comfy", 832, 1024, 1], "color": "#332233", "bgcolor": "#553355", "shape": 1}, {"id": 64, "type": "UpscaleModelLoader", "pos": [4330, -40], "size": {"0": 315, "1": 58}, "flags": {}, "order": 5, "mode": 0, "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [85], "shape": 3}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["ESRGAN_4x.pth"]}, {"id": 69, "type": "FaceRestoreModelLoader", "pos": [4350, 110], "size": {"0": 315, "1": 58}, "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "FACERESTORE_MODEL", "type": "FACERESTORE_MODEL", "links": [92], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "FaceRestoreModelLoader"}, "widgets_values": ["ESRGAN_4x.pth"]}, {"id": 49, "type": "ReActorFaceSwap", "pos": [3980, -140], "size": {"0": 315, "1": 270}, "flags": {}, "order": 18, "mode": 0, "inputs": [{"name": "source_image", "type": "IMAGE", "link": 79}, {"name": "input_image", "type": "IMAGE", "link": 73, "slot_index": 1}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [72, 106], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ReActorFaceSwap"}, "widgets_values": [true, "inswapper_128.onnx", "retinaface_resnet50", "ESRGAN_4x.pth", "female", "female", "0", "0", 0]}], "links": [[6, 7, 0, 4, 0, "IMAGE"], [9, 9, 0, 10, 0, "IMAGE"], [11, 7, 0, 9, 0, "IMAGE"], [16, 7, 0, 12, 0, "IMAGE"], [17, 12, 0, 6, 0, "IMAGE"], [18, 12, 0, 8, 0, "IMAGE"], [19, 8, 0, 13, 0, "MASK"], [20, 13, 0, 9, 1, "MASK"], [31, 24, 1, 23, 0, "SEGM_DETECTOR"], [32, 9, 0, 23, 1, "IMAGE"], [33, 23, 0, 25, 0, "SEGS"], [36, 25, 0, 27, 0, "MASK"], [37, 27, 0, 28, 1, "MASK"], [38, 28, 0, 15, 0, "IMAGE"], [40, 7, 0, 28, 0, "IMAGE"], [55, 28, 0, 41, 0, "IMAGE"], [56, 41, 0, 42, 0, "IMAGE"], [58, 12, 0, 43, 0, "IMAGE"], [59, 41, 0, 43, 1, "IMAGE"], [62, 45, 0, 46, 0, "MODEL"], [63, 45, 1, 46, 1, "CONDITIONING"], [64, 45, 2, 46, 2, "CONDITIONING"], [65, 45, 3, 46, 3, "LATENT"], [66, 45, 4, 46, 4, "VAE"], [67, 46, 3, 47, 0, "LATENT"], [68, 47, 0, 48, 0, "IMAGE"], [69, 46, 4, 47, 1, "VAE"], [72, 49, 0, 51, 0, "IMAGE"], [73, 47, 0, 49, 1, "IMAGE"], [76, 52, 0, 54, 0, "IMAGE"], [77, 50, 0, 52, 0, "IMAGE"], [79, 50, 0, 49, 0, "IMAGE"], [85, 64, 0, 63, 0, "UPSCALE_MODEL"], [92, 69, 0, 70, 0, "FACERESTORE_MODEL"], [93, 63, 0, 70, 1, "IMAGE"], [94, 70, 0, 66, 0, "IMAGE"], [105, 79, 0, 76, 2, "CONTROL_NET"], [106, 49, 0, 63, 1, "IMAGE"]], "groups": [], "config": {}, "extra": {}, "version": 0.4}